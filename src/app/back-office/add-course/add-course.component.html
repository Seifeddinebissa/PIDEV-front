<div class="container mt-5"> 
    <h2>Add New Course</h2>
    <form (ngSubmit)="onSubmit()" class="mt-4">
      <!-- Image Upload -->
      <div class="mb-3">
        <label for="fileInput" class="form-label">Course Image</label>
        <input type="file" 
               id="fileInput" 
               (change)="onPhotoSelected($event)" 
               accept="image/*" 
               class="form-control" />
        <div class="mt-2" *ngIf="photoPreview">
          <img [src]="photoPreview" 
               alt="Image Preview" 
               class="img-thumbnail" 
               style="max-width: 200px;" />
        </div>
      </div>
  
      <!-- Title -->
      <div class="mb-3">
        <label for="titre" class="form-label">Title</label>
        <input type="text" 
               id="titre" 
               class="form-control" 
               [(ngModel)]="course.titre" 
               name="titre" 
               required 
               placeholder="Enter course title" 
               (input)="validateTitle()" />
        <div *ngIf="titleError" class="text-danger mt-1">{{ titleError }}</div>
      </div>
  
      <!-- Description -->
      <div class="mb-3">
        <label for="description" class="form-label">Description</label>
        <textarea id="description" 
                  class="form-control" 
                  [(ngModel)]="course.description" 
                  name="description" 
                  required 
                  rows="3" 
                  placeholder="Enter course description"
                  (input)="validateDescription()"></textarea>
        <div *ngIf="descriptionError" class="text-danger mt-1">{{ descriptionError }}</div>
      </div>
  
      <!-- PDF Content Upload -->
      <div class="mb-3">
        <label class="form-label">Course Content (PDFs)</label>
        <div>
          <button type="button" 
                  class="btn btn-secondary mb-2" 
                  (click)="triggerPdfInput()">
            Choose PDF Files
          </button>
          <input type="file" 
                 id="pdfInput" 
                 (change)="onPdfsSelected($event)" 
                 accept=".pdf" 
                 multiple
                 class="d-none" />
        </div>
        <div class="mt-2" *ngIf="selectedPdfs && selectedPdfs.length > 0">
          <p>Selected PDFs:</p>
          <ul class="list-group">
            <li *ngFor="let pdf of selectedPdfs" class="list-group-item d-flex justify-content-between align-items-center">
              {{ pdf.name }}
              <button type="button" 
                      class="btn btn-danger btn-sm" 
                      (click)="removePdf(pdf)">
                Remove
              </button>
            </li>
          </ul>
        </div>
      </div>
  
      <!-- Error Message Général -->
      <div *ngIf="errorMessage" class="alert alert-danger mb-3">
        {{ errorMessage }}
      </div>
  
      <!-- Buttons -->
      <div class="mb-3">
        <button type="submit" 
                class="btn btn-primary me-2" 
                [disabled]="!course.titre || !course.description || isLoading || titleError || descriptionError">
          {{ isLoading ? 'Adding...' : 'Add Course' }}
        </button>
      </div>
    </form>
  </div>