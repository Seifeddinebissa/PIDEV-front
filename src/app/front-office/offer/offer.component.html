<div *ngIf="error" class="error-message">{{ error }}</div>

<!-- <button (click)="goToPage()" class="action-button go-to-page-button">ADD OFFER</button> -->

<div *ngIf="offres.length > 0; else noData">
  <div *ngFor="let offer of offres" class="offer-card">
    <img [src]="'http://localhost:8081/companies/images' + offer.entreprise?.logo" 
         alt="{{ offer.entreprise?.name }} logo" 
         class="company-logo" />
    <h2 class="Entreprise Name">{{ offer.entreprise?.name }}</h2>
    <h3 class="offer-title">{{ offer.title }}</h3>
    <p class="offer-description">{{ offer.description }}</p>
    
    <div class="offer-details">
      <p><strong>Salary:</strong> {{ offer.salary | currency }}</p>
      <p><strong>Location:</strong> {{ offer.location }}</p>
      <p><strong>Date Posted:</strong> {{ offer.datePosted | date: 'mediumDate' }}</p>
      <p><strong>Expiration Date:</strong> {{ offer.dateExpiration | date: 'mediumDate' }}</p>
      <p><strong>Contract Type:</strong> {{ offer.contractType }}</p>
      <p><strong>Experience Level:</strong> {{ offer.experienceLevel }}</p>
      <p><strong>Job Function:</strong> {{ offer.jobFunction }}</p>
      <p><strong>Job Type:</strong> {{ offer.jobType }}</p>
      <p><strong>Job Shift:</strong> {{ offer.jobShift }}</p>
      <p><strong>Job Schedule:</strong> {{ offer.jobSchedule }}</p>
      <p><strong>Education Level:</strong> {{ offer.educationLevel }}</p>
    </div>

    <div class="offer-actions">
      <button (click)="openUpdateDialog(offer)">Update</button>
      <button (click)="deleteOffre(offer.id)">Delete</button> 
    </div>
  </div>
</div>

<ng-template #noData>
  <p>No offers available at the moment.</p>
</ng-template>
